"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.notesControllers=void 0;var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_express=require("express"),_notes=_interopRequireDefault(require("../collectionsMDB/notes")),notesControllers={getNotes:function(){var a=(0,_asyncToGenerator2["default"])(function*(){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:_express.response;try{var[b,c]=yield Promise.all([_notes["default"].count(),_notes["default"].find()]);return a.status(200).json({count:b,allNotes:c})}catch(b){return console.log(b),a.status(400).send("Data-Error")}});return function getNotes(){return a.apply(this,arguments)}}(),createNote:function(){var a=(0,_asyncToGenerator2["default"])(function*(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:_express.request,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:_express.response,{body:c}=a;try{var d=new _notes["default"](c),e=yield d.save();return b.status(201).json({note:e})}catch(a){console.log(a)}});return function createNote(){return a.apply(this,arguments)}}(),getNotebyId:function getNotebyId(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:_express.request,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:_express.response,{id:c}=a.params;_notes["default"].findById({_id:c}).then(a=>a?b.status(200).json({note:a}):b.status(401).send("bad-request"))["catch"](a=>(console.log(a),b.status(500).send("ERROR-SERVER")))},deteleNote:function deteleNote(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:_express.request,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:_express.response,{id:c}=a.params;_notes["default"].findByIdAndDelete({_id:c},{new:!0}).then(a=>a?b.status(200).json({note:a}):b.status(401).send("bad-request"))["catch"](a=>(console.log(a),b.status(500).send("ERROR-SERVER")))}};exports.notesControllers=notesControllers;
//# sourceMappingURL=notes.js.map